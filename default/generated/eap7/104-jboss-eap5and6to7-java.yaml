- category: mandatory
  customVariables: []
  description: Entity EJB
  effort: 5
  labels:
  - source=eap5
  - source=eap6
  - source=eap
  - jboss-eap5
  - jboss-eap6
  - cmp
  - jpa
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - capability=java-ee7+
  - capability=java-ee
  links: []
  message: |-
    Entity beans are no longer supported in JBoss EAP 7. User is requested to use JPA entities that fully replaced the functionality provided by Entity beans.
     This entity needs to be migrated using JPA persistence.xml or using JPA annotations.
  ruleID: jboss-eap5and6to7-java-03000
  when:
    or:
    - java.referenced:
        location: IMPLEMENTS_TYPE
        pattern: javax.ejb.EntityBean
    - java.referenced:
        location: INHERITANCE
        pattern: javax.ejb.EntityBean
- category: mandatory
  customVariables: []
  description: JSR 88 deployment plan not supported
  effort: 1
  labels:
  - source=eap5
  - source=eap6
  - source=eap
  - jboss-eap5
  - jboss-eap6
  - configuration
  - undertow
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - capability=java-ee7+
  - capability=java-ee
  links: []
  message: This class is using JSR 88 specific classes. Rely instead on proprietary
    functionality to automate deployments. Please consult EAP 7 admin documentation
    to learn about such functionality
  ruleID: jboss-eap5and6to7-java-05000
  when:
    or:
    - java.referenced:
        location: IMPORT
        pattern: javax.enterprise.deploy*
- category: mandatory
  customVariables: []
  description: Outdated HA Singleton
  effort: 1
  labels:
  - source=eap5
  - source=eap6
  - source=eap
  - jboss-eap5
  - jboss-eap6
  - singleton
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - capability=java-ee7+
  - capability=java-ee
  links: []
  message: EAP 7 includes a new API for building Singleton services, which significantly
    simplifies the process, and solves the issues found in the legacy solution.
  ruleID: jboss-eap5and6to7-java-06000
  when:
    java.referenced:
      location: IMPORT
      pattern: org.jboss.as.clustering.singleton.SingletonService
- category: optional
  customVariables: []
  description: Stateful Session EJB Clustering changes in EAP 7
  effort: 1
  labels:
  - source=eap5
  - source=eap6
  - source=eap
  - jboss-eap5
  - jboss-eap6
  - cluster
  - ejb
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - capability=java-ee7+
  - capability=java-ee
  links:
  - title: Stateful Session EJB Clustering Changes
    url: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_stateful_session_ejb_clustering_changes
  message: The `@Clustered` annotation is ignored in EAP 7 and is not useful. In case
    the application is started using HA profile, the replication will be done automatically.
  ruleID: jboss-eap5and6to7-java-07000
  when:
    or:
    - java.referenced:
        location: ANNOTATION
        pattern: org.jboss.ejb3.annotation.Clustered
    - java.referenced:
        location: IMPORT
        pattern: org.jboss.ejb3.annotation.Clustered
- category: mandatory
  customVariables:
  - name: annotation
    nameOfCaptureGroup: annotation
    pattern: org.jboss.logging.(?P<annotation>(Cause|Field|FormatWith|LoggingClass|LogMessage|Message|MessageBundle|MessageLogger|Param|Property))
  description: JBoss deprecated logging annotations
  effort: 1
  labels:
  - source=eap5
  - source=eap6
  - source=eap
  - jboss-eap5
  - jboss-eap6
  - logging
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - capability=java-ee7+
  - capability=java-ee
  links:
  - title: JBoss Logging Changes
    url: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_jboss_logging_changes
  message: 'JBoss Logging annotations in package `org.jboss.logging` are deprecated.
    You should replace them by the corresponding annotations from package `org.jboss.logging.annotations`.
    Note that using the `org.jboss.logging.annotations` package requires adding a
    new dependency: `org.jboss.logging:jboss-logging-annotations`.'
  ruleID: jboss-eap5and6to7-java-09000
  when:
    java.referenced:
      location: ANNOTATION
      pattern: org.jboss.logging.(Cause|Field|FormatWith|LoggingClass|LogMessage|Message|MessageBundle|MessageLogger|Param|Property)
