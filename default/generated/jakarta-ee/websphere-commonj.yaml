- category: mandatory
  customVariables: []
  description: Migrate commonj.timers.TimerManager to Jakarta EE jakarta.ejb.TimerService
  effort: 7
  labels:
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - source=websphere
  - capability=jakarta-ee
  - commonj
  links:
  - title: Jakarta EE Timer Service (Jakarta EE 10)
    url: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/ejb/timerservice
  message: |-
    The CommonJ TimerManager API should be migrated to the Jakarta EE TimerService API
    (jakarta.ejb.TimerService).

    Jakarta EE TimerService provides container-managed scheduling with cron-like
    configuration via @Schedule and @Schedules and is the modern replacement for
    CommonJ timers when migrating from WebLogic environments.

    For non-EJB applications, consider using
    jakarta.enterprise.concurrent.ManagedScheduledExecutorService as an alternative.

    Note: Jakarta EE (jakarta.*) should be preferred over legacy Java EE (javax.*)
    for cloud and container-based deployments.
  ruleID: commonj-weblogic-02000
  when:
    java.referenced:
      pattern: commonj.timers.TimerManager
- category: mandatory
  customVariables: []
  description: Migrate commonj.timers.Timer to Jakarta EE jakarta.ejb.Timer
  effort: 7
  labels:
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - source=websphere
  - capability=jakarta-ee
  - commonj
  links: []
  message: |-
    The CommonJ Timer interface can be migrated to the Jakarta EE
    jakarta.ejb.Timer interface.

    Jakarta EE Timer represents a container-managed scheduled task and is typically
    used together with jakarta.ejb.TimerService as the modern replacement for
    CommonJ timers in Jakarta EE applications.
  ruleID: commonj-weblogic-03000
  when:
    java.referenced:
      pattern: commonj.timers.Timer
- category: mandatory
  customVariables: []
  description: Migrate CommonJ WorkManager to Jakarta EE ManagedExecutorService APIs
  effort: 7
  labels:
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - source=websphere
  - capability=jakarta-ee
  - commonj
  links:
  - title: Jakarta Concurrency (Jakarta EE 10)
    url: https://jakarta.ee/specifications/concurrency/3.0/apidocs/
  message: |-
    The CommonJ WorkManager API can be migrated to the Jakarta EE
    ManagedExecutorService or ManagedScheduledExecutorService
    (jakarta.enterprise.concurrent).

    These APIs provide container-managed asynchronous execution and scheduling and
    are the modern replacement for CommonJ WorkManager in Jakarta EE and
    cloud-native environments.

    JCA Resource Adapters should only be considered for legacy, full application
    server deployments.
  ruleID: commonj-weblogic-05000
  when:
    java.referenced:
      pattern: commonj.work.WorkManager
- category: mandatory
  customVariables:
  - name: part
    nameOfCaptureGroup: part
    pattern: commonj.work.Work(?P<part>(Event|Item|Listener)?)
  description: Migrate CommonJ Work-related interfaces to Jakarta EE JCA APIs
  effort: 3
  labels:
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - source=websphere
  - capability=jakarta-ee
  - commonj
  links: []
  message: |-
    Replace commonj.work.Work{{part}} with jakarta.resource.spi.work.Work{{part}}.
  ruleID: commonj-weblogic-06000
  when:
    java.referenced:
      pattern: commonj.work.Work(Event|Item|Listener)?
- category: mandatory
  customVariables:
  - name: subpart
    nameOfCaptureGroup: subpart
    pattern: commonj.work.Work(?P<subpart>(Completed|Rejected)?)?Exception
  description: Migrate CommonJ WorkManager exceptions to Jakarta EE JCA exceptions
  effort: 1
  labels:
  - domain=java-upgrade
  - category=deprecated-apis
  - os=windows
  - os=linux
  - target=azure-appservice
  - target=azure-aks
  - target=azure-container-apps
  - source=websphere
  - capability=jakarta-ee
  - commonj
  links: []
  message: |-
    Replace CommonJ Work related exceptions with the corresponding 
    jakarta.resource.spi.work.Work{{subpart}}Exception subclass.
  ruleID: commonj-weblogic-07000
  when:
    or:
    - java.referenced:
        location: THROW_STATEMENT
        pattern: commonj.work.Work(Completed|Rejected)?Exception
    - java.referenced:
        location: THROWS_METHOD_DECLARATION
        pattern: commonj.work.Work(Completed|Rejected)?Exception
    - java.referenced:
        location: CATCH_EXCEPTION_STATEMENT
        pattern: commonj.work.Work(Completed|Rejected)?Exception
